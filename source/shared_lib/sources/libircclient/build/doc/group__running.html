<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libircclient: Running IRC session.</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Running IRC session.</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__running.html#g112631b75eb9997868d73fede17440d0">irc_run</a> (<a class="el" href="libircclient_8h.html#0030a976ab3e6a247d57e30fd5979cd5">irc_session_t</a> *session)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Goes into forever-loop, processing IRC events and generating callbacks.  <a href="#g112631b75eb9997868d73fede17440d0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__running.html#g75d2af4209ad2edbdbff77b0cfcabcab">irc_add_select_descriptors</a> (<a class="el" href="libircclient_8h.html#0030a976ab3e6a247d57e30fd5979cd5">irc_session_t</a> *session, fd_set *in_set, fd_set *out_set, int *maxfd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds IRC socket(s) for the descriptor set to use in select().  <a href="#g75d2af4209ad2edbdbff77b0cfcabcab"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__running.html#g4526d10056559eac7bd777437d440170">irc_process_select_descriptors</a> (<a class="el" href="libircclient_8h.html#0030a976ab3e6a247d57e30fd5979cd5">irc_session_t</a> *session, fd_set *in_set, fd_set *out_set)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Processes the IRC socket(s), which descriptor(s) are set.  <a href="#g4526d10056559eac7bd777437d440170"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g75d2af4209ad2edbdbff77b0cfcabcab"></a><!-- doxytag: member="libircclient.h::irc_add_select_descriptors" ref="g75d2af4209ad2edbdbff77b0cfcabcab" args="(irc_session_t *session, fd_set *in_set, fd_set *out_set, int *maxfd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int irc_add_select_descriptors           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libircclient_8h.html#0030a976ab3e6a247d57e30fd5979cd5">irc_session_t</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fd_set *&nbsp;</td>
          <td class="paramname"> <em>in_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fd_set *&nbsp;</td>
          <td class="paramname"> <em>out_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>maxfd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds IRC socket(s) for the descriptor set to use in select(). 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>An initiated and connected session. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>in_set</em>&nbsp;</td><td>A FD_IN descriptor set for select() </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>out_set</em>&nbsp;</td><td>A FD_OUT descriptor set for select() </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>maxfd</em>&nbsp;</td><td>A max descriptor found.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Return code 0 means success. Other value means error, the error code may be obtained through <a class="el" href="group__errors.html#g3a18336093ee74751244d996bc32247d" title="Returns the last error code.">irc_errno()</a>.</dd></dl>
This function should be used when you already have a program with select() based data processing. You prepare your descriptors, call this function to add session's descriptor(s) into set, and then call select(). When it returns, you should call irc_add_select_descriptors, which sends/recvs all available data, parses received data, calls your callbacks(!), and returns. Then you can process your sockets from set. See the example.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__running.html#g4526d10056559eac7bd777437d440170" title="Processes the IRC socket(s), which descriptor(s) are set.">irc_process_select_descriptors</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="g4526d10056559eac7bd777437d440170"></a><!-- doxytag: member="libircclient.h::irc_process_select_descriptors" ref="g4526d10056559eac7bd777437d440170" args="(irc_session_t *session, fd_set *in_set, fd_set *out_set)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int irc_process_select_descriptors           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libircclient_8h.html#0030a976ab3e6a247d57e30fd5979cd5">irc_session_t</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fd_set *&nbsp;</td>
          <td class="paramname"> <em>in_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fd_set *&nbsp;</td>
          <td class="paramname"> <em>out_set</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Processes the IRC socket(s), which descriptor(s) are set. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>An initiated and connected session. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>in_set</em>&nbsp;</td><td>A FD_IN descriptor set for select() </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>out_set</em>&nbsp;</td><td>A FD_OUT descriptor set for select()</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Return code 0 means success. Other value means error, the error code may be obtained through <a class="el" href="group__errors.html#g3a18336093ee74751244d996bc32247d" title="Returns the last error code.">irc_errno()</a>.</dd></dl>
This function should be used in pair with irc_add_select_descriptors function. See irc_add_select_descriptors description.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__running.html#g75d2af4209ad2edbdbff77b0cfcabcab" title="Adds IRC socket(s) for the descriptor set to use in select().">irc_add_select_descriptors</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="g112631b75eb9997868d73fede17440d0"></a><!-- doxytag: member="libircclient.h::irc_run" ref="g112631b75eb9997868d73fede17440d0" args="(irc_session_t *session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int irc_run           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libircclient_8h.html#0030a976ab3e6a247d57e30fd5979cd5">irc_session_t</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Goes into forever-loop, processing IRC events and generating callbacks. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>An initiated and connected session.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Return code 0 means success. Other value means error, the error code may be obtained through <a class="el" href="group__errors.html#g3a18336093ee74751244d996bc32247d" title="Returns the last error code.">irc_errno()</a>.</dd></dl>
This function goes into forever loop, processing the IRC events, and calling appropriate callbacks. This function will not return until the server connection is terminated - either by server, or by calling irc_cmd_quit. This function should be used, if you don't need asynchronous request processing (i.e. your bot just reacts on the events, and doesn't generate it asynchronously). Even in last case, you still can call irc_run, and start the asynchronous thread in event_connect handler. See examples. 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Jan 10 18:19:35 2009 for libircclient by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
